# Charles抓包

## 安装Charles

- 下载地址

  https://www.charlesproxy.com/latest-release/download.do

- 注册码

  适用于Charles任意版本的注册码

  Registered Name: https://zhile.io

  License Key: 	48891cf209c6d32bf4

## 抓取HTTPS请求（window为参考）

- 安装Charles证书

  ![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/5v1rfqwFLDRh.png?imageslim)

  

  ![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/incCVI9nVBr2.png?imageslim)

  

  ![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/TKQJWUgobbGa.png?imageslim)

  

  ![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/5ok9zcRljGhB.png?imageslim)

  

- 导出证书到本地

  ![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/HzCmcbOncNX3.png?imageslim)

  

  ![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/HMRQRaoMTYN2.png?imageslim)

  

  ![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/u9oykHkMxbgd.png?imageslim)

- 手动安装Charles证书

  **安装失败时可以手动安装Charles证书：**

  ![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/Du3lpYwIhqQo.png?imageslim)

  

  ![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/eTBGr5gpib4c.png?imageslim)

  

  ![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/upELrJP1CbR7.png?imageslim)

  

  ![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/v24zOLsmAcza.png?imageslim)

![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/HwrlgXC3dtkM.png?imageslim)



![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/vh5nC5o6kdku.png?imageslim)



![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/HrkkwS5uGLEs.png?imageslim)

- 配置SSL Proxy

  证书安装好之后就可以配置需要抓取的https请求的域名和端口，*表示任意域名，也可以配置指定的域名

  ![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/nNVelNLulIfz.png?imageslim)



![mark](https://gongyz.oss-cn-shenzhen.aliyuncs.com/blog/cFaBsPGOSDhR.png?imageslim)

## 抓取浏览器的HTTPS请求（以火狐参考）

导入本地的证书

## 抓取移动端的HTTPS请求

手机访问https://chls.pro/ssl 下载并安装证书

## IOS11无法抓取https问题

进入 通用 关于本机 证书信任设置，打开对Charles证书的信任即可




